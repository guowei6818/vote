<!--
 * @Description: In User Settings Edit
 * @Author: your name
 * @Date: 2019-09-22 19:54:10
 * @LastEditTime: 2019-11-02 08:45:58
 * @LastEditors: Please set LastEditors
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/assets/bootstrap.min.css">
    <title>创建投票</title>
    <style>
        
    </style>
</head>
<body>
    <h2 class="page-header">创建投票</h2>
    <form class="form-horizontal" id="form" action="/create-vote" method="POST">
        <div class="form-group"><input type="text" placeholder="标题" name="title"></div>
        <div><input type="text" placeholder="问题描述" name="desc"></div>
        <div>
            <input type="text" placeholder="选项" name="options">
            <button type="button" class="remove-option">-</button>
        </div>
        <div class="row">
            <input type="text" placeholder="选项" name="options">
            <button type="button" class="remove-option">-</button>
        </div>
        <div id="add-option-wrap"><button type="button" id="addOptionBtn">添加选项</button></div>
        <div><input type="date" placeholder="截止日期" name="deadline"></div>
        <div>
            匿名：<input type="radio" value="0" name="anonymouse">
            非匿名：<input type="radio" value="1" name="anonymouse">
        </div>
        <div><select name="singleSelection">
                <option value="1">单选</option>
                <option value="0">多选</option>
            </select>
        </div>
        <div><button>创建投票</button></div>
    </form>
<script>
    var form = document.getElementById('form');
    var addOptionWrap = document.getElementById('add-option-wrap');
    var addOptionBtn = document.getElementById('addOptionBtn');
    
    form.addEventListener('click', e => {
        if(e.target.matches('.remove-option')){
            e.target.parentNode.remove()
        }
    })
    addOptionBtn.addEventListener('click', e => {
        var wrap = document.createElement('div');
        wrap.innerHTML = '<input type="text" placeholder="选项" name="options"><button type="button" class="remove-option">-</button>';
        form.insertBefore(wrap, addOptionWrap);
    })


</script>
</body>
</html>